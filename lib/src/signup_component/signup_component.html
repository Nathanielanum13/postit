<alert *ngIf="setAlert != null" [alert]="setAlert"></alert>
<div class="row m-0 p-0">
    <div class="col-lg-6 col-sm-12 px-0 d-none d-lg-block" id="sign"></div>
    <div class="col-lg-6 col-md-12 col-sm-12 px-0" id="signup-bg">
        <nav-app></nav-app>
        <div class="container">
            <div class="pb-sm-5">
                <fieldset class="shadow border-0" style="border-radius: 20px; background: #fbffff;">
                    <form class="p-4" novalidate>
                        <h3 class="mt-2 mb-4">Sign Up</h3>
                        <div class="px-1 py-2 row my-3" style="color: #05356e !important;">
                            <div class="col-md-6 col-sm-12">
                                <h5>Admins Info </h5>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-wrapper">
                                <label>First Name</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.firstname"
                                       required
                                       #firstname="ngForm"
                                       [class.is-invalid] = "firstname.dirty && !firstname.valid"
                                       [class.is-valid] = "firstname.dirty && firstname.valid"
                                       ngControl = "firstname"
                                       placeholder="first.name"
                                >
                                <div [hidden] = "firstname.valid || firstname.pristine" class="invalid-feedback">Please enter firstname</div>
                            </div>
                            <div class="form-wrapper">
                                <label>Last Name</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.lastname"
                                       required
                                       #lastname="ngForm"
                                       [class.is-invalid] = "(lastname.dirty && !lastname.valid)"
                                       [class.is-valid] = "lastname.dirty && lastname.valid"
                                       ngControl = "lastname"
                                       placeholder="last.name"
                                >
                                <div [hidden] = "lastname.valid || lastname.pristine" class="invalid-feedback">Please enter lastname</div>
                            </div>
                        </div>
                        <div class="form-wrapper">
                            <label>Username</label>
                            <input type="text" class="nt-form-control sh border-0 br-20"
                                   [(ngModel)]="user.username"
                                   required
                                   #username="ngForm"
                                   [class.is-invalid] = "(username.dirty && !username.valid)"
                                   [class.is-valid] = "username.dirty && username.valid"
                                   ngControl = "username"
                                   placeholder="user.name"
                            >
                            <div [hidden] = "username.valid || username.pristine" class="invalid-feedback">Please enter username</div>
                        </div>
                        <div class="form-wrapper">
                            <label>Password</label>
                            <input type="password" class="nt-form-control sh border-0 br-20"
                                   [(ngModel)]="user.password"
                                   required
                                   #password="ngForm"
                                   [class.is-invalid] = "(password.dirty && !password.valid)"
                                   [class.is-valid] = "password.dirty && password.valid"
                                   ngControl = "password"
                                   placeholder="password"
                            >
                            <div [hidden] = "password.valid || password.pristine" class="invalid-feedback">Password field required</div>
                            <div [hidden] = "user.password.length >= 6 || password.pristine" class="invalid-feedback">Password is too short</div>
                        </div>
                        <div class="form-wrapper">
                            <label>Confirm Password</label>
                            <input type="password" class="nt-form-control sh border-0 br-20"
                                   [(ngModel)]="passwordConfirmation"
                                   required
                                   #confirmedPassword="ngForm"
                                   ngControl = "confirmedPassword"
                                   placeholder="confirm.password"
                            >
                            <div [hidden] = "user.password == passwordConfirmation || confirmedPassword.pristine" class="invalid-feedback">Passwords do not match</div>
                        </div>

                        <div class="px-1 py-2 row my-3" style="color: #05356e !important;">
                            <div class="col-md-6 col-sm-12">
                                <h5>Company's Info </h5>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-wrapper">
                                <label>Company's Name</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.companyName"
                                       required
                                       #companyName="ngForm"
                                       [class.is-invalid] = "(companyName.dirty && !companyName.valid)"
                                       [class.is-valid] = "companyName.dirty && companyName.valid"
                                       ngControl = "companyName"
                                       placeholder="company.name"
                                >
                                <div [hidden] = "companyName.valid || companyName.pristine" class="invalid-feedback">Please enter company's name</div>
                            </div>
                            <div class="form-wrapper">
                                <label>Company's Website</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.companyWebsite"
                                       required
                                       #companyWebsite="ngForm"
                                       [class.is-invalid] = "(companyWebsite.dirty && !companyWebsite.valid)"
                                       [class.is-valid] = "companyWebsite.dirty && companyWebsite.valid"
                                       ngControl = "companyWebsite"
                                       placeholder="company.website"
                                >
                                <div [hidden] = "companyWebsite.valid || companyWebsite.pristine" class="invalid-feedback">Please enter company's website</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-wrapper">
                                <label>Address</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.companyAddress"
                                       required
                                       #companyAddress="ngForm"
                                       [class.is-invalid] = "(companyAddress.dirty && !companyAddress.valid)"
                                       [class.is-valid] = "companyAddress.dirty && companyAddress.valid"
                                       ngControl = "companyAddress"
                                       placeholder="address"
                                >
                                <div [hidden] = "companyAddress.valid || companyAddress.pristine" class="invalid-feedback">Please enter company's address</div>
                            </div>
                            <div class="form-wrapper">
                                <label>Country</label>
                                <input type="text" class="nt-form-control sh border-0 br-20"
                                       [(ngModel)]="user.ghanaPostAddress"
                                       required
                                       #ghanaPostAddress="ngForm"
                                       [class.is-invalid] = "(ghanaPostAddress.dirty && !ghanaPostAddress.valid)"
                                       [class.is-valid] = "ghanaPostAddress.dirty && ghanaPostAddress.valid"
                                       ngControl = "ghanaPostAddress"
                                       placeholder="country"
                                >
                                <div [hidden] = "ghanaPostAddress.valid || ghanaPostAddress.pristine" class="invalid-feedback">Please enter Ghana Post Address</div>
                            </div>
                        </div>
                        <div class="form-wrapper">
                            <label>Email</label>
                            <input type="email" class="nt-form-control sh border-0 br-20"
                                   [(ngModel)]="user.companyEmail"
                                   required
                                   #companyEmail="ngForm"
                                   [class.is-invalid] = "companyEmail.dirty && !companyEmail.valid"
                                   [class.is-valid] = "companyEmail.dirty && companyEmail.valid"
                                   ngControl = "companyEmail"
                                   placeholder="company.email"
                            >
                            <div [hidden] = "companyEmail.valid || companyEmail.pristine" class="invalid-feedback">Please enter company's email</div>
                        </div>
                        <div class="form-wrapper">
                            <label>
                                Phone
                                <span class="ml-2 fa fa-plus-circle text-muted ml-2 cursor-pointer my-auto" (click)="addPhone()"></span>
                            </label>
                            <input type="text" class="nt-form-control sh border-0 br-20"
                                   [(ngModel)]="phone"
                                   (keyup.enter)="addPhone()"
                                   #phoneNumber="ngForm"
                                   required
                                   placeholder="phone e.g 233509131631"
                            >
                            <div [hidden] = "companyPhoneNumbers.isNotEmpty || phoneNumber.pristine" class="invalid-feedback">Enter at least one phone no.</div>
                            <div class="mt-1">
                                <div class="col-auto">
                                    <material-chips class="row">
                                        <material-chip (remove)="removePhone($i)"
                                                       *ngFor="let companyPhoneNumber of companyPhoneNumbers; let $i = index"
                                                       [value]="companyPhoneNumber" class="col-auto">
                                            {{companyPhoneNumber}}
                                        </material-chip>
                                    </material-chips>
                                </div>
                            </div>
                            <!--<input type="text" class="nt-form-control sh border-0 br-20" [(ngModel)]="user.companyPhone">-->
                        </div>
                        <!--<div class="checkbox">
                            <label>
                                <input type="checkbox"> I accept the Terms of Use &amp; Privacy Policy.
                                <span class="checkmark" style="margin-top: -4px"></span>
                            </label>
                        </div>-->
                        <div class="form-wrapper">
                            <material-checkbox class="mt-2" [(checked)]="user.termsAndConditions"></material-checkbox>
                            I accept the Terms of Use &amp; Privacy Policy.
                        </div>
                        <button (click)="signup()" *ngIf="!isLoading">Signup Now</button>
                        <button (click)="signup()" *ngIf="isLoading">
                            <img src="img/mini-loader.gif" style="width: 20px; height: auto">
                        </button>
                    </form>
                </fieldset>
            </div>
        </div>
    </div>
</div>
